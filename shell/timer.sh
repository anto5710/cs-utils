#!/bin/bash
#=========================================================
#                         timer
#=========================================================
# Performs given action/command as-is
# And measures runtime in milliseconds.
#=========================================================

#=========================================================
# Action = entire args
#=========================================================
ACTION=$@

#=========================================================
START_TIME=$(date +%s.%3N)
#=========================================================

# Run, but suppress output
OUTPUT=`$ACTION`

#=========================================================
END_TIME=$(date +%s.%3N)
#=========================================================

#=========================================================
# Print the elapsed time in ms
#=========================================================
ELAPSED_TIME=$(echo "scale=3; $END_TIME - $START_TIME" | bc)
echo -e "\e[1m$ELAPSED_TIME\e[m secs"